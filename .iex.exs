old_state = %{
  active_users: ["harmon", "doug"],
  messages: [
    %{
      "from" => "doug",
      "id" => "0e39fe35-25da-44b2-8700-e05d6ae15069",
      "message" => "aaaaa",
      "timestamp" => "2020-10-05T18:23:51.909093Z"
    },
    %{
      "from" => "doug",
      "id" => "776b6fc9-c412-4d8b-9f27-8d03e7007fa0",
      "message" => "asdasd",
      "timestamp" => "2020-10-05T18:23:43.724506Z"
    },
    %{
      "from" => "doug",
      "id" => "8a2e421d-dbdb-4eb6-b7ed-451c12f8c9b3",
      "message" => "asda",
      "timestamp" => "2020-10-05T18:23:50.426369Z"
    },
    %{
      "from" => "doug",
      "id" => "e08cb459-a816-44e8-b9aa-d16627846cea",
      "message" => "vvvvvv",
      "timestamp" => "2020-10-05T18:23:53.510340Z"
    }
  ]
}

new_state = %{
  active_users: ["harmon", "doug"],
  messages: [
    %{
      "from" => "doug",
      "id" => "e08cb459-a816-44e8-b9aa-d16627846cea",
      "message" => "vvvvvv",
      "timestamp" => "2020-10-05T18:23:53.510340Z"
    },
    %{
      "from" => "doug",
      "id" => "8a2e421d-dbdb-4eb6-b7ed-451c12f8c9b3",
      "message" => "asda",
      "timestamp" => "2020-10-05T18:23:50.426369Z"
    },
    %{
      "from" => "doug",
      "id" => "776b6fc9-c412-4d8b-9f27-8d03e7007fa0",
      "message" => "asdasd",
      "timestamp" => "2020-10-05T18:23:43.724506Z"
    },
    %{
      "from" => "doug",
      "id" => "0e39fe35-25da-44b2-8700-e05d6ae15069",
      "message" => "aaaaa",
      "timestamp" => "2020-10-05T18:23:51.909093Z"
    },
    %{
      "from" => "doug",
      "id" => "eb0cf4ba-e600-4e84-86d9-d33eaa4eb5d2",
      "message" => "123123 123 123",
      "timestamp" => "2020-10-05T18:23:55.778181Z"
    }
  ]
}
